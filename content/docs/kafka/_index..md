---
title: Kafka
toc: true
breadcrumbs: false
---
## 파티션
* 토픽은 여러 파티션으로 구성

### 파티션 복제
* 카프카는 파티션을 다른 브로커에 복제
* 토픽의 파티션은 리더와 팔로워로 구성
* 각 파티션 별로 하나의 리더 존재
* 파티션 리더만이 읽기 쓰기 가능
* producer, consumer는 파티션 리더와 통신
* *ex 토픽1-파티션3리더, 토픽2-파티션3팔로워, 토픽3-파티션3팔로워*

### ISR (In-Sync Replicas)
* 리더와 동기화된 팔로워 집합
* 리더 장애 시 새 리더 선출
* 클러스터 가용성과 데이터 일관성 유지

### 파티션 분산
* 파티션 분산으로 인해 병렬 처리 가능 -> 데이터 처리 속도 감소
* *ex 여러 컨슈머가 동시에 카프카 읽고 쓰기 가능*

### 파티션 내 순서 보장
* 각 파티션은 독립적인 스트림 보장

### 파티션 키 분산
* 카프카 키의 해시값을 사용해 메시지를 파티션 저장
* 잘못된 키의 분포 시 특정 파티션으로 키 집중

## LISTENER
## advertised_listener

## 유용한 링크
